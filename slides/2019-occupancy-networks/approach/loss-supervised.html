<!-- .slide: class="layout-1x2" -->

## Loss Function

<div class='subtitle'>
<h3>Loss for supervised model:</h3>
</div>

<div class="column-1 flex-col">
    <div class="flex-col fragment box"
        style="align-self: center; width: 900px; height: 400px; font-size: .85em" 
        data-fragment-index=0>
        $$
        \mathcal L_\color{darkorange}{\mathcal{B}}
            (\color{blue}{\theta})
        = \frac{1}{|\color{darkorange}{\mathcal{B}}|}
        \sum_{i=1}^{|\color{darkorange}{\mathcal{B}}|}
         \sum_{j=1}^ K \color{red}{\mathcal{L}}
         (
            \color{blue}{f_\theta}
            (\color{purple}{s_{ij}}, \color{brown}{y_i}), 
            \color{olive}{o_{ij}}
        )
        $$
    </div>
</div>
<div class="column-2" style="font-size: .8em;">
    <table>
        <thead class="fragment" data-fragment-index=1>
            <tr>
                <th>Symbol</th>
                <th>Meaning</th>
            </tr>
        </thead>
        <tbody>
            <tr class="fragment" data-fragment-index=1>
                <td>$\color{blue}{f_\theta}$</td>
                <td>Occupancy Network</td>
            </tr>
            <tr class="fragment">
                <td>$\color{darkorange}{\mathcal{B}}$</td>
                <td>batch of data samples
                    $(
                        \color{brown}{y_i},
                        \color{purple}{s_{ij}},
                        \color{olive}{o_{ij}}
                    )$
                </td>
            </tr>
            <tr class="fragment">
                <td>$\color{brown}{y_i}$</td>
                <td>$|\mathcal{B}|$ observations (e.g. images)</td>
            </tr>
            <tr class="fragment">
                <td>$\color{purple}{s_{ij}}$</td>
                <td>$|\mathcal{B}| \times K$ random locations</td>
            </tr>
            <tr class="fragment">
                <td>$\color{olive}{o_{ij}}$</td>
                <td>$|\mathcal{B}| \times K$ ground truth occupancies</td>
            </tr>
            <tr class="fragment">
                <td>$\color{red}{\mathcal L}$</td>
                <td>cross-entropy loss</td>
            </tr>
        </tbody>
    </table>
</div>

<!-- <div class="column-2 fragment">
    <div>Loss for unsupervised model:</div>
    <div style="font-size: .8em;">
        $$\mathcal L^{\text{gen}}_{\mathcal B}(\theta, \color{red}{\psi})
        = \frac{1}{|\mathcal B|} \sum_{i=1}^{|\mathcal B|}
        \Bigl[\sum_{j=1}^ K \mathcal L(f_\theta(s_{ij}, \color{red}{z_i}), o_{ij}) \\
        + \color{red}{\mathrm{KL} \left(q_\psi(z | (s_{ij}, o_{ij})_{j=1:K}) \,\|\, s_0(z) \right) }
        \Bigr]
        $$
    </div>
    <div style="font-size: .9em;">
        <ul>
            <li style="margin: 0">$s_0$: prior for latent $z$</li>
            <li style="margin: 0">$q_\psi$: (approximate) posterior</li>
            <li style="margin: 0">$z_i$: random sample from $q_\psi$ </li>
        </ul>
    </div>
</div> -->
